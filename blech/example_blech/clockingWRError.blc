
@[EntryPoint]
activity A(x: bool)(y shares x: bool)
    var z : bool
    cobegin
        repeat
			z = x
            await true
        until false end
    with
        repeat
            await true
            y = false
        until false end
    end
    await true
end

activity main () ()
    var x: bool
    run A (x)(x)
end
